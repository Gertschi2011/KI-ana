# TURN Server Configuration for KI_ana P2P
# Using coturn (https://github.com/coturn/coturn)

# Listening port for TURN
listening-port=3478

# TLS listening port
tls-listening-port=5349

# Relay IP (your server's public IP)
# Replace with your actual IP
relay-ip=YOUR_PUBLIC_IP

# External IP (for NAT)
external-ip=YOUR_PUBLIC_IP

# Realm for authentication
realm=kiana.local

# Server name
server-name=kiana-turn

# Authentication
# Use long-term credentials
lt-cred-mech

# User credentials (username:password)
# Generate with: turnadmin -k -u username -r kiana.local -p password
user=kiana:kiana_turn_password

# Quota
# Max 50 sessions per user
max-bps=0
user-quota=50
total-quota=100

# Logging
log-file=/var/log/turnserver.log
verbose

# Security
# Deny access to private IP ranges
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow only specific ports
min-port=49152
max-port=65535

# Fingerprint
fingerprint

# SSL/TLS certificates (for TURNS)
# cert=/etc/letsencrypt/live/your-domain/fullchain.pem
# pkey=/etc/letsencrypt/live/your-domain/privkey.pem

# No multicast
no-multicast-peers

# No loopback
no-loopback-peers

# Mobility
mobility

# CLI
cli-password=kiana_cli_password
