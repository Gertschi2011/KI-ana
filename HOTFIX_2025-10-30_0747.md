# ğŸ”¥ HOTFIX - Addressbook Tree Format - 30.10.2025 07:47 CET

## âŒ PROBLEM:
Nach dem letzten Fix waren die Ordner in der Addressbook-Sidebar weg!

**Root Cause:** Ich hatte das Tree-Format geÃ¤ndert von:
```json
{
  "tree": {
    "name": "root",
    "children": [...]
  }
}
```

Zu:
```json
{
  "tree": [...]  // Direkt die Liste
}
```

**Aber:** Das Frontend macht `tree.children` was bei einer Liste `undefined` ist!

## âœ… FIX:
Revert zum ursprÃ¼nglichen Format:
```python
# /netapi/modules/addressbook/router.py
return {
    "ok": True,
    "tree": tree_obj,  # Volles Objekt mit .children, nicht nur die Liste!
    "stats": stats
}
```

## ğŸ”§ DEPLOYMENT:
```bash
1. Code geÃ¤ndert
2. docker-compose build --no-cache backend
3. docker-compose stop backend && rm -f backend
4. docker-compose up -d backend
```

## âœ… VERIFIZIERT:
```bash
curl https://ki-ana.at/api/addressbook/tree
# Returns: dict mit 'children' array
# Children count: 12 top-level topics
# âœ… Format korrekt!
```

## ğŸ“Š STATUS:
âœ… **GEFIXT & DEPLOYED**

Addressbook sollte jetzt wieder die vollstÃ¤ndige Ordner-Struktur anzeigen!

**Bitte STRG+SHIFT+R** und dann nochmal testen!

---

**Fix-Dauer:** 7 Minuten  
**Status:** PRODUKTIONSBEREIT  
**Timestamp:** 2025-10-30 07:47 CET
